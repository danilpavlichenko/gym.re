<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò–≥—Ä–∞ –¥–ª—è –∫–ª–∞—Å—Å–∞</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: linear-gradient(135deg, #3b82f6, #9333ea); }
    #currentPlayer { font-weight: bold; color: #ffeb3b; }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen text-white">
  <h1 class="text-4xl font-bold mb-6">üî• –¢–∞–π–º–µ—Ä-–ò–≥—Ä–∞ –¥–ª—è –∫–ª–∞—Å—Å–∞ üî•</h1>
  <input id="names" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é" class="p-2 rounded text-black mb-4 w-80" />
  <div id="currentPlayer" class="text-2xl mb-2"></div>
  <div id="task" class="text-2xl mb-4">–í–≤–µ–¥–∏—Ç–µ –∏–º–µ–Ω–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ —Å—Ç–∞—Ä—Ç!</div>
  <div id="timer" class="text-5xl font-bold mb-8">30</div>
  <div class="flex gap-4 mb-4">
    <button id="correctBtn" class="px-4 py-2 bg-green-500 rounded-xl text-xl">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</button>
    <button id="wrongBtn" class="px-4 py-2 bg-red-500 rounded-xl text-xl">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</button>
  </div>
  <button id="startBtn" class="px-6 py-3 bg-green-500 rounded-xl text-xl mb-2">–°—Ç–∞—Ä—Ç</button>
  <button id="stopBtn" class="px-6 py-3 bg-red-500 rounded-xl text-xl mb-2">–°—Ç–æ–ø</button>
  <button id="resetBtn" class="px-6 py-3 bg-yellow-500 rounded-xl text-xl">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
  <div id="results" class="text-xl mt-6"></div>

  <audio id="startSound" src="start.mp3"></audio>
  <audio id="endSound" src="end.mp3"></audio>
  <audio id="winSound" src="win.mp3"></audio>

  <script>
    let tasks = [
  "–ù–∞–∑–æ–≤–∏ —Å—Ç–æ–ª–∏—Ü—É –§—Ä–∞–Ω—Ü–∏–∏.",
  "–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä: 12 * 8.",
  "–ù–∞–∑–æ–≤–∏ —Ç—Ä–∏ –≤–∏–¥–∞ —Å–ø–æ—Ä—Ç–∞.",
  "–°–∫–æ–ª—å–∫–æ –ø–ª–∞–Ω–µ—Ç –≤ –°–æ–ª–Ω–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ?",
  "–ö—Ç–æ –Ω–∞–ø–∏—Å–∞–ª '–í–æ–π–Ω—É –∏ –º–∏—Ä'?",
  "–ü–µ—Ä–µ—á–∏—Å–ª–∏ —á–µ—Ç—ã—Ä–µ –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–¥–∞.",
  "–ù–∞–∑–æ–≤–∏ —Å–∞–º—É—é –¥–ª–∏–Ω–Ω—É—é —Ä–µ–∫—É –≤ –º–∏—Ä–µ.",
  "–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä: 144 / 12.",
  "–ö–∞–∫–∞—è —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å—Ç—Ä–∞–Ω–∞ –ø–æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏?",
  "–ù–∞–∑–æ–≤–∏ —Ç—Ä–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏.",
  "–ö–∞–∫–æ–π –æ–∫–µ–∞–Ω —Å–∞–º—ã–π –≥–ª—É–±–æ–∫–∏–π?",
  "–ö—Ç–æ –Ω–∞—Ä–∏—Å–æ–≤–∞–ª '–ú–æ–Ω—É –õ–∏–∑—É'?",
  "–ù–∞–∑–æ–≤–∏ –ø—è—Ç—å —Ü–≤–µ—Ç–æ–≤ —Ä–∞–¥—É–≥–∏.",
  "–°–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –≤ –≤–∏—Å–æ–∫–æ—Å–Ω–æ–º –≥–æ–¥—É?",
  "–ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞—É–∫–∞ –æ —Ä–∞—Å—Ç–µ–Ω–∏—è—Ö?"
]; // —Ç–µ –∂–µ –∑–∞–¥–∞–Ω–∏—è
    let players = [];
    let currentIndex = 0;
    let timer;
    let scores = {};

    const taskEl = document.getElementById('task');
    const timerEl = document.getElementById('timer');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');
    const resetBtn = document.getElementById('resetBtn');
    const namesInput = document.getElementById('names');
    const currentPlayerEl = document.getElementById('currentPlayer');
    const resultsEl = document.getElementById('results');
    const correctBtn = document.getElementById('correctBtn');
    const wrongBtn = document.getElementById('wrongBtn');

    function updateResults() {
      resultsEl.innerHTML = Object.entries(scores).map(([name, score]) => `${name}: ‚úÖ ${score.correct} ‚ùå ${score.wrong}`).join('<br>');
    }

    startBtn.onclick = () => {
      document.getElementById('startSound').play();
      if (players.length === 0) {
        players = namesInput.value.split(',').map(name => name.trim());
        players.forEach(name => scores[name] = { correct: 0, wrong: 0 });
      }

      if (tasks.length === 0) {
        taskEl.textContent = "üéâ –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã! –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!";
        document.getElementById('winSound').play();
        return;
      }

      taskEl.textContent = "";
      const player = players[currentIndex];
      currentPlayerEl.textContent = `–•–æ–¥–∏—Ç: ${player}`;
      const randomIndex = Math.floor(Math.random() * tasks.length);
      taskEl.textContent = tasks.splice(randomIndex, 1)[0];

      let timeLeft = 30;
      timerEl.textContent = timeLeft;

      clearInterval(timer);
      timer = setInterval(() => {
        timeLeft--;
        timerEl.textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timer);
          document.getElementById('endSound').play();
        }
      }, 1000);
    }

    correctBtn.onclick = () => {
      scores[players[currentIndex]].correct++;
      nextPlayer();
    }

    wrongBtn.onclick = () => {
      scores[players[currentIndex]].wrong++;
      nextPlayer();
    }

    function nextPlayer() {
      currentIndex = (currentIndex + 1) % players.length;
      updateResults();
      setTimeout(startBtn.onclick, 500);
    }

    stopBtn.onclick = () => {
      clearInterval(timer);
      taskEl.textContent = "‚èπÔ∏è –ò–≥—Ä–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.";
      timerEl.textContent = "‚Äî";
      updateResults();
    }

    resetBtn.onclick = () => {
      location.reload();
    }
  </script>
</body>
</html>
